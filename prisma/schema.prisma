generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Robot_data {
  id                      Int      @id @default(autoincrement())
  device_id               String
  device_name             String
  panels_cleaned          Float
  raw_odometer_value      Int
  battery_discharge_cycle Float
  createdAt               DateTime @default(now())
  block                   String?
  AutoCount               Int?
  ManuallCount            Int?

  @@index([device_id, createdAt])
}


model ThresoldWeatherData {
  id                   Int      @id @default(autoincrement())
  rain_gauge           Float?
  createdAt            DateTime @default(now())
  wind_direction       String?
  wind_direction_angle Float?
  wind_speed           Float?
  wind_speed_level     Float?
}

model Availability {
  id                    Int      @id @default(autoincrement())
  totalRobot            Int
  ActiveRunRobot        Int
  ActiveIdleRobot       Int
  RobotActivePercentage Float
  createdAt             DateTime @default(now())
  updateAt              DateTime @updatedAt
}

model RunningData {
  id          Int      @id @default(autoincrement())
  device_id   String
  device_name String
  block       String?
  autoCount   Int
  manualCount Int
  createdAt   DateTime @default(now())
  updateAt    DateTime @updatedAt
}

model RobotRunLog {
  id               Int      @id @default(autoincrement())
  device_id        String
  device_name      String
  Raw_Auto_count   Int
  AutoCount        Int
  Raw_manual_count Int
  ManualCount      Int
  block            String?
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  @@index([device_id, createdAt])
}
